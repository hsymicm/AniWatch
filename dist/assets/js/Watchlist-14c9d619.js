import{g as Oe,C as He,a as De,M as Ue,S as qe,t as Ge}from"./index-f24160cb.js";import{a as G,r as Ye,b as I,j as d,F as ye}from"./vendor-9d4999d7.js";const Xe="/aniwatch/assets/img/df99c9c7.svg",Je="/aniwatch/assets/img/42db01f5.svg",Be="/aniwatch/assets/img/1da9c1b3.svg";var Ee={exports:{}};(()=>{var h={296:(u,f,s)=>{var k=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,m=/^0o[0-7]+$/i,M=parseInt,J=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,fe=typeof self=="object"&&self&&self.Object===Object&&self,re=J||fe||Function("return this")(),v=Object.prototype.toString,D=Math.max,K=Math.min,H=function(){return re.Date.now()};function B(g){var y=typeof g;return!!g&&(y=="object"||y=="function")}function ce(g){if(typeof g=="number")return g;if(function(N){return typeof N=="symbol"||function(V){return!!V&&typeof V=="object"}(N)&&v.call(N)=="[object Symbol]"}(g))return NaN;if(B(g)){var y=typeof g.valueOf=="function"?g.valueOf():g;g=B(y)?y+"":y}if(typeof g!="string")return g===0?g:+g;g=g.replace(k,"");var L=Y.test(g);return L||m.test(g)?M(g.slice(2),L?2:8):_.test(g)?NaN:+g}u.exports=function(g,y,L){var N,V,U,ne,E,F,q=0,oe=!1,Q=!1,Z=!0;if(typeof g!="function")throw new TypeError("Expected a function");function R(T){var X=N,se=V;return N=V=void 0,q=T,ne=g.apply(se,X)}function ee(T){return q=T,E=setTimeout(le,y),oe?R(T):ne}function ie(T){var X=T-F;return F===void 0||X>=y||X<0||Q&&T-q>=U}function le(){var T=H();if(ie(T))return ae(T);E=setTimeout(le,function(X){var se=y-(X-F);return Q?K(se,U-(X-q)):se}(T))}function ae(T){return E=void 0,Z&&N?R(T):(N=V=void 0,ne)}function pe(){var T=H(),X=ie(T);if(N=arguments,V=this,F=T,X){if(E===void 0)return ee(F);if(Q)return E=setTimeout(le,y),R(F)}return E===void 0&&(E=setTimeout(le,y)),ne}return y=ce(y)||0,B(L)&&(oe=!!L.leading,U=(Q="maxWait"in L)?D(ce(L.maxWait)||0,y):U,Z="trailing"in L?!!L.trailing:Z),pe.cancel=function(){E!==void 0&&clearTimeout(E),q=0,N=F=V=E=void 0},pe.flush=function(){return E===void 0?ne:ae(H())},pe}},96:(u,f,s)=>{var k="Expected a function",_=/^\s+|\s+$/g,Y=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,M=/^0o[0-7]+$/i,J=parseInt,fe=typeof s.g=="object"&&s.g&&s.g.Object===Object&&s.g,re=typeof self=="object"&&self&&self.Object===Object&&self,v=fe||re||Function("return this")(),D=Object.prototype.toString,K=Math.max,H=Math.min,B=function(){return v.Date.now()};function ce(y){var L=typeof y;return!!y&&(L=="object"||L=="function")}function g(y){if(typeof y=="number")return y;if(function(V){return typeof V=="symbol"||function(U){return!!U&&typeof U=="object"}(V)&&D.call(V)=="[object Symbol]"}(y))return NaN;if(ce(y)){var L=typeof y.valueOf=="function"?y.valueOf():y;y=ce(L)?L+"":L}if(typeof y!="string")return y===0?y:+y;y=y.replace(_,"");var N=m.test(y);return N||M.test(y)?J(y.slice(2),N?2:8):Y.test(y)?NaN:+y}u.exports=function(y,L,N){var V=!0,U=!0;if(typeof y!="function")throw new TypeError(k);return ce(N)&&(V="leading"in N?!!N.leading:V,U="trailing"in N?!!N.trailing:U),function(ne,E,F){var q,oe,Q,Z,R,ee,ie=0,le=!1,ae=!1,pe=!0;if(typeof ne!="function")throw new TypeError(k);function T(W){var te=q,ve=oe;return q=oe=void 0,ie=W,Z=ne.apply(ve,te)}function X(W){return ie=W,R=setTimeout(he,E),le?T(W):Z}function se(W){var te=W-ee;return ee===void 0||te>=E||te<0||ae&&W-ie>=Q}function he(){var W=B();if(se(W))return ge(W);R=setTimeout(he,function(te){var ve=E-(te-ee);return ae?H(ve,Q-(te-ie)):ve}(W))}function ge(W){return R=void 0,pe&&q?T(W):(q=oe=void 0,Z)}function be(){var W=B(),te=se(W);if(q=arguments,oe=this,ee=W,te){if(R===void 0)return X(ee);if(ae)return R=setTimeout(he,E),T(ee)}return R===void 0&&(R=setTimeout(he,E)),Z}return E=g(E)||0,ce(F)&&(le=!!F.leading,Q=(ae="maxWait"in F)?K(g(F.maxWait)||0,E):Q,pe="trailing"in F?!!F.trailing:pe),be.cancel=function(){R!==void 0&&clearTimeout(R),ie=0,q=ee=oe=R=void 0},be.flush=function(){return R===void 0?Z:ge(B())},be}(y,L,{leading:V,maxWait:L,trailing:U})}},703:(u,f,s)=>{var k=s(414);function _(){}function Y(){}Y.resetWarningCache=_,u.exports=function(){function m(fe,re,v,D,K,H){if(H!==k){var B=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw B.name="Invariant Violation",B}}function M(){return m}m.isRequired=m;var J={array:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:M,element:m,elementType:m,instanceOf:M,node:m,objectOf:M,oneOf:M,oneOfType:M,shape:M,exact:M,checkPropTypes:Y,resetWarningCache:_};return J.PropTypes=J,J}},697:(u,f,s)=>{u.exports=s(703)()},414:u=>{u.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},c={};function p(u){var f=c[u];if(f!==void 0)return f.exports;var s=c[u]={exports:{}};return h[u](s,s.exports,p),s.exports}p.n=u=>{var f=u&&u.__esModule?()=>u.default:()=>u;return p.d(f,{a:f}),f},p.d=(u,f)=>{for(var s in f)p.o(f,s)&&!p.o(u,s)&&Object.defineProperty(u,s,{enumerable:!0,get:f[s]})},p.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),p.o=(u,f)=>Object.prototype.hasOwnProperty.call(u,f),p.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})};var O={};(()=>{p.r(O),p.d(O,{LazyLoadComponent:()=>Ne,LazyLoadImage:()=>Ae,trackWindowScroll:()=>le});const u=G.exports;var f=p.n(u),s=p(697);const k=Ye.exports;var _=p.n(k);function Y(){return typeof window<"u"&&"IntersectionObserver"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype}function m(r){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function M(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function($){return Object.getOwnPropertyDescriptor(r,$).enumerable})),i.push.apply(i,o)}return i}function J(r,e,i){return e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}function fe(r,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function re(r,e){return(re=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i})(r,e)}function v(r,e){if(e&&(m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(r)}function D(r){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(r)}var K=function(r){r.forEach(function(e){e.isIntersecting&&e.target.onVisible()})},H={},B=function(r){(function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&re(t,n)})(P,r);var e,i,o,$,ue=(o=P,$=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,n=D(o);if($){var l=D(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return v(this,t)});function P(t){var n;if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,P),(n=ue.call(this,t)).supportsObserver=!t.scrollPosition&&t.useIntersectionObserver&&Y(),n.supportsObserver){var l=t.threshold;n.observer=function(a){return H[a]=H[a]||new IntersectionObserver(K,{rootMargin:a+"px"}),H[a]}(l)}return n}return e=P,(i=[{key:"componentDidMount",value:function(){this.placeholder&&this.observer&&(this.placeholder.onVisible=this.props.onVisible,this.observer.observe(this.placeholder)),this.supportsObserver||this.updateVisibility()}},{key:"componentWillUnmount",value:function(){this.observer&&this.placeholder&&this.observer.unobserve(this.placeholder)}},{key:"componentDidUpdate",value:function(){this.supportsObserver||this.updateVisibility()}},{key:"getPlaceholderBoundingBox",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollPosition,n=this.placeholder.getBoundingClientRect(),l=_().findDOMNode(this.placeholder).style,a={left:parseInt(l.getPropertyValue("margin-left"),10)||0,top:parseInt(l.getPropertyValue("margin-top"),10)||0};return{bottom:t.y+n.bottom+a.top,left:t.x+n.left+a.left,right:t.x+n.right+a.left,top:t.y+n.top+a.top}}},{key:"isPlaceholderInViewport",value:function(){if(typeof window>"u"||!this.placeholder)return!1;var t=this.props,n=t.scrollPosition,l=t.threshold,a=this.getPlaceholderBoundingBox(n),b=n.y+window.innerHeight,w=n.x,S=n.x+window.innerWidth,x=n.y;return Boolean(x-l<=a.bottom&&b+l>=a.top&&w-l<=a.right&&S+l>=a.left)}},{key:"updateVisibility",value:function(){this.isPlaceholderInViewport()&&this.props.onVisible()}},{key:"render",value:function(){var t=this,n=this.props,l=n.className,a=n.height,b=n.placeholder,w=n.style,S=n.width;if(b&&typeof b.type!="function")return f().cloneElement(b,{ref:function(j){return t.placeholder=j}});var x=function(j){for(var z=1;z<arguments.length;z++){var C=arguments[z]!=null?arguments[z]:{};z%2?M(Object(C),!0).forEach(function(A){J(j,A,C[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(C)):M(Object(C)).forEach(function(A){Object.defineProperty(j,A,Object.getOwnPropertyDescriptor(C,A))})}return j}({display:"inline-block"},w);return S!==void 0&&(x.width=S),a!==void 0&&(x.height=a),f().createElement("span",{className:l,ref:function(j){return t.placeholder=j},style:x},b)}}])&&fe(e.prototype,i),P}(f().Component);B.propTypes={onVisible:s.PropTypes.func.isRequired,className:s.PropTypes.string,height:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string]),placeholder:s.PropTypes.element,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,scrollPosition:s.PropTypes.shape({x:s.PropTypes.number.isRequired,y:s.PropTypes.number.isRequired}),width:s.PropTypes.oneOfType([s.PropTypes.number,s.PropTypes.string])},B.defaultProps={className:"",placeholder:null,threshold:100,useIntersectionObserver:!0};const ce=B;var g=p(296),y=p.n(g),L=p(96),N=p.n(L),V=function(r){var e=getComputedStyle(r,null);return e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x")};const U=function(r){if(!(r instanceof HTMLElement))return window;for(var e=r;e&&e instanceof HTMLElement;){if(/(scroll|auto)/.test(V(e)))return e;e=e.parentNode}return window};function ne(r){return(ne=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var E=["delayMethod","delayTime"];function F(){return(F=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r}).apply(this,arguments)}function q(r,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function oe(r,e){return(oe=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i})(r,e)}function Q(r,e){if(e&&(ne(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z(r)}function Z(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function R(r){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(r)}var ee=function(){return typeof window>"u"?0:window.scrollX||window.pageXOffset},ie=function(){return typeof window>"u"?0:window.scrollY||window.pageYOffset};const le=function(r){var e=function(i){(function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),a&&oe(l,a)})(n,i);var o,$,ue,P,t=(ue=n,P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var l,a=R(ue);if(P){var b=R(this).constructor;l=Reflect.construct(a,arguments,b)}else l=a.apply(this,arguments);return Q(this,l)});function n(l){var a;if(function(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}(this,n),(a=t.call(this,l)).useIntersectionObserver=l.useIntersectionObserver&&Y(),a.useIntersectionObserver)return Q(a);var b=a.onChangeScroll.bind(Z(a));return l.delayMethod==="debounce"?a.delayedScroll=y()(b,l.delayTime):l.delayMethod==="throttle"&&(a.delayedScroll=N()(b,l.delayTime)),a.state={scrollPosition:{x:ee(),y:ie()}},a.baseComponentRef=f().createRef(),a}return o=n,($=[{key:"componentDidMount",value:function(){this.addListeners()}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"componentDidUpdate",value:function(){typeof window>"u"||this.useIntersectionObserver||U(_().findDOMNode(this.baseComponentRef.current))!==this.scrollElement&&(this.removeListeners(),this.addListeners())}},{key:"addListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement=U(_().findDOMNode(this.baseComponentRef.current)),this.scrollElement.addEventListener("scroll",this.delayedScroll,{passive:!0}),window.addEventListener("resize",this.delayedScroll,{passive:!0}),this.scrollElement!==window&&window.addEventListener("scroll",this.delayedScroll,{passive:!0}))}},{key:"removeListeners",value:function(){typeof window>"u"||this.useIntersectionObserver||(this.scrollElement.removeEventListener("scroll",this.delayedScroll),window.removeEventListener("resize",this.delayedScroll),this.scrollElement!==window&&window.removeEventListener("scroll",this.delayedScroll))}},{key:"onChangeScroll",value:function(){this.useIntersectionObserver||this.setState({scrollPosition:{x:ee(),y:ie()}})}},{key:"render",value:function(){var l=this.props,a=(l.delayMethod,l.delayTime,function(w,S){if(w==null)return{};var x,j,z=function(A,me){if(A==null)return{};var de,we,Re={},Me=Object.keys(A);for(we=0;we<Me.length;we++)de=Me[we],me.indexOf(de)>=0||(Re[de]=A[de]);return Re}(w,S);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(w);for(j=0;j<C.length;j++)x=C[j],S.indexOf(x)>=0||Object.prototype.propertyIsEnumerable.call(w,x)&&(z[x]=w[x])}return z}(l,E)),b=this.useIntersectionObserver?null:this.state.scrollPosition;return f().createElement(r,F({forwardRef:this.baseComponentRef,scrollPosition:b},a))}}])&&q(o.prototype,$),n}(f().Component);return e.propTypes={delayMethod:s.PropTypes.oneOf(["debounce","throttle"]),delayTime:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool},e.defaultProps={delayMethod:"throttle",delayTime:300,useIntersectionObserver:!0},e};function ae(r){return(ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function pe(r,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function T(r,e){return(T=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i})(r,e)}function X(r,e){if(e&&(ae(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(r)}function se(r){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(r)}var he=function(r){(function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&T(t,n)})(P,r);var e,i,o,$,ue=(o=P,$=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,n=se(o);if($){var l=se(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return X(this,t)});function P(t){return function(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}(this,P),ue.call(this,t)}return e=P,(i=[{key:"render",value:function(){return f().createElement(ce,this.props)}}])&&pe(e.prototype,i),P}(f().Component);const ge=le(he);function be(r){return(be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}function W(r,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function te(r,e){return(te=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i})(r,e)}function ve(r,e){if(e&&(be(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Le(r)}function Le(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Pe(r){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(r)}var je=function(r){(function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&te(t,n)})(P,r);var e,i,o,$,ue=(o=P,$=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,n=Pe(o);if($){var l=Pe(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return ve(this,t)});function P(t){var n;(function(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")})(this,P),n=ue.call(this,t);var l=t.afterLoad,a=t.beforeLoad,b=t.scrollPosition,w=t.visibleByDefault;return n.state={visible:w},w&&(a(),l()),n.onVisible=n.onVisible.bind(Le(n)),n.isScrollTracked=Boolean(b&&Number.isFinite(b.x)&&b.x>=0&&Number.isFinite(b.y)&&b.y>=0),n}return e=P,(i=[{key:"componentDidUpdate",value:function(t,n){n.visible!==this.state.visible&&this.props.afterLoad()}},{key:"onVisible",value:function(){this.props.beforeLoad(),this.setState({visible:!0})}},{key:"render",value:function(){if(this.state.visible)return this.props.children;var t=this.props,n=t.className,l=t.delayMethod,a=t.delayTime,b=t.height,w=t.placeholder,S=t.scrollPosition,x=t.style,j=t.threshold,z=t.useIntersectionObserver,C=t.width;return this.isScrollTracked||z&&Y()?f().createElement(ce,{className:n,height:b,onVisible:this.onVisible,placeholder:w,scrollPosition:S,style:x,threshold:j,useIntersectionObserver:z,width:C}):f().createElement(ge,{className:n,delayMethod:l,delayTime:a,height:b,onVisible:this.onVisible,placeholder:w,style:x,threshold:j,width:C})}}])&&W(e.prototype,i),P}(f().Component);je.propTypes={afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool},je.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},useIntersectionObserver:!0,visibleByDefault:!1};const Ne=je;function Ie(r){return(Ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}var We=["afterLoad","beforeLoad","delayMethod","delayTime","effect","placeholder","placeholderSrc","scrollPosition","threshold","useIntersectionObserver","visibleByDefault","wrapperClassName","wrapperProps"];function _e(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter(function($){return Object.getOwnPropertyDescriptor(r,$).enumerable})),i.push.apply(i,o)}return i}function Ce(r){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?_e(Object(i),!0).forEach(function(o){$e(r,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):_e(Object(i)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(i,o))})}return r}function $e(r,e,i){return e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}function Te(){return(Te=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r}).apply(this,arguments)}function Fe(r,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,o.key,o)}}function ke(r,e){return(ke=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i})(r,e)}function ze(r,e){if(e&&(Ie(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}(r)}function Se(r){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(r)}var xe=function(r){(function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&ke(t,n)})(P,r);var e,i,o,$,ue=(o=P,$=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var t,n=Se(o);if($){var l=Se(this).constructor;t=Reflect.construct(n,arguments,l)}else t=n.apply(this,arguments);return ze(this,t)});function P(t){var n;return function(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}(this,P),(n=ue.call(this,t)).state={loaded:!1},n}return e=P,(i=[{key:"onImageLoad",value:function(){var t=this;return this.state.loaded?null:function(){t.props.afterLoad(),t.setState({loaded:!0})}}},{key:"getImg",value:function(){var t=this.props,n=(t.afterLoad,t.beforeLoad,t.delayMethod,t.delayTime,t.effect,t.placeholder,t.placeholderSrc,t.scrollPosition,t.threshold,t.useIntersectionObserver,t.visibleByDefault,t.wrapperClassName,t.wrapperProps,function(l,a){if(l==null)return{};var b,w,S=function(j,z){if(j==null)return{};var C,A,me={},de=Object.keys(j);for(A=0;A<de.length;A++)C=de[A],z.indexOf(C)>=0||(me[C]=j[C]);return me}(l,a);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(w=0;w<x.length;w++)b=x[w],a.indexOf(b)>=0||Object.prototype.propertyIsEnumerable.call(l,b)&&(S[b]=l[b])}return S}(t,We));return f().createElement("img",Te({onLoad:this.onImageLoad()},n))}},{key:"getLazyLoadImage",value:function(){var t=this.props,n=t.beforeLoad,l=t.className,a=t.delayMethod,b=t.delayTime,w=t.height,S=t.placeholder,x=t.scrollPosition,j=t.style,z=t.threshold,C=t.useIntersectionObserver,A=t.visibleByDefault,me=t.width;return f().createElement(Ne,{beforeLoad:n,className:l,delayMethod:a,delayTime:b,height:w,placeholder:S,scrollPosition:x,style:j,threshold:z,useIntersectionObserver:C,visibleByDefault:A,width:me},this.getImg())}},{key:"getWrappedLazyLoadImage",value:function(t){var n=this.props,l=n.effect,a=n.height,b=n.placeholderSrc,w=n.width,S=n.wrapperClassName,x=n.wrapperProps,j=this.state.loaded,z=j?" lazy-load-image-loaded":"",C=j||!b?{}:{backgroundImage:"url(".concat(b,")"),backgroundSize:"100% 100%"};return f().createElement("span",Te({className:S+" lazy-load-image-background "+l+z,style:Ce(Ce({},C),{},{color:"transparent",display:"inline-block",height:a,width:w})},x),t)}},{key:"render",value:function(){var t=this.props,n=t.effect,l=t.placeholderSrc,a=t.visibleByDefault,b=t.wrapperClassName,w=t.wrapperProps,S=this.getLazyLoadImage();return(n||l)&&!a||b||w?this.getWrappedLazyLoadImage(S):S}}])&&Fe(e.prototype,i),P}(f().Component);xe.propTypes={afterLoad:s.PropTypes.func,beforeLoad:s.PropTypes.func,delayMethod:s.PropTypes.string,delayTime:s.PropTypes.number,effect:s.PropTypes.string,placeholderSrc:s.PropTypes.string,threshold:s.PropTypes.number,useIntersectionObserver:s.PropTypes.bool,visibleByDefault:s.PropTypes.bool,wrapperClassName:s.PropTypes.string,wrapperProps:s.PropTypes.object},xe.defaultProps={afterLoad:function(){return{}},beforeLoad:function(){return{}},delayMethod:"throttle",delayTime:300,effect:"",placeholderSrc:null,threshold:100,useIntersectionObserver:!0,visibleByDefault:!1,wrapperClassName:""};const Ae=xe})(),Ee.exports=O})();function Ke({id:h,item:c,status:p,handleEdit:O,windowWidth:u}){var k,_;const[f,s]=G.exports.useState(!1);return I("tr",{onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:()=>O(p,h,c),className:"item",children:[I("td",{className:"table-img",children:[f&&I("div",{className:"pop-out",children:[d("img",{style:{boxShadow:`0 4px 16px ${Oe(c.cover.color,.2)}`},src:(k=c.cover)==null?void 0:k.url}),d("div",{className:"arrow-right"})]}),d("div",{onClick:()=>O(p,h,c),className:f?"edit":"cover",children:d(Ee.exports.LazyLoadImage,{style:{backgroundColor:f?null:Oe(c.cover.color,.25)},src:f?Be:(_=c.cover)==null?void 0:_.url,width:48,height:48,alt:""})})]}),I("td",{className:"table-title",children:[c.title.english?c.title.english:c.title.romaji,u<=640&&I("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px"},children:[d("div",{children:c.progress?`EP ${c.progress} ${c.episodes?"/"+c.episodes:""}`:void 0}),d("div",{children:c.score})]})]}),u>640&&I(ye,{children:[d("td",{children:c.score}),d("td",{children:c.progress?`${c.progress} ${c.episodes?"/"+c.episodes:""}`:void 0}),d("td",{children:c.type})]})]},h)}function Qe({status:h,shows:c,handleEdit:p,windowWidth:O}){return I(ye,{children:[d("h3",{children:h}),I("table",{className:"table-show",children:[d("thead",{children:I("tr",{children:[d("th",{}),d("th",{className:"table-title",children:"Title"}),O>640&&I(ye,{children:[d("th",{className:"table-detail",children:"Score"}),d("th",{className:"table-detail",children:"Progress"}),d("th",{className:"table-detail",children:"Type"})]})]})}),d("tbody",{children:Object.entries(c).map(([u,f])=>d(Ke,{id:u,handleEdit:p,status:h,item:f,windowWidth:O},u))})]})]})}function Ze({id:h,item:c,status:p,handleEdit:O}){var s;const[u,f]=G.exports.useState(!1);return I("div",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:()=>O(p,h,c),className:"card",style:{boxShadow:u?`0 4px 16px ${Oe(c.cover.color,.2)}`:"",backgroundColor:Oe(c.cover.color,.25)},children:[u&&d("div",{onClick:()=>O(p,h,c),className:"edit",children:d("img",{src:Be,alt:""})}),I("div",{className:"info",children:[d("div",{children:c.title.english?c.title.english:c.title.romaji}),I("div",{className:"details",children:[d("div",{children:c.progress?`EP ${c.progress} ${c.episodes?"/"+c.episodes:""}`:void 0}),d("div",{children:c.score})]})]}),d("div",{className:"cover",children:d(Ee.exports.LazyLoadImage,{src:(s=c.cover)==null?void 0:s.url,width:176,height:264,alt:""})})]},h)}function et({status:h,shows:c,handleEdit:p}){return I(ye,{children:[d("h3",{children:h}),d("div",{className:"grid-show",children:Object.entries(c).map(([O,u])=>d(Ze,{id:O,handleEdit:p,status:h,item:u},O))})]})}const tt=["TV","TV Short","Movie","Special","OVA","ONA","Music"],rt=["Action","Adventure","Comedy","Drama","Fantasy","Horror","Mahou Shoujo","Mecha","Music","Mystery","Psychological","Romance","Sci-Fi","Slice of Life","Sports","Supernatural","Thriller"];function nt({setFilters:h}){return I(ye,{children:[d("h4",{className:"title",children:"Filters"}),Object.entries({Type:tt,Genre:rt}).map(([p,O])=>d("div",{className:"filter",children:d(He,{className:"filter",filter:p,options:O,getSelected:u=>h(p.toLowerCase(),u)})},p))]})}function ot({setLists:h,showStatus:c}){const[p,O]=G.exports.useState("All");return c.unshift("All"),I(ye,{children:[d("h4",{className:"title",children:"Status"}),d("ul",{className:"list",children:c.map((u,f)=>d("li",{className:p===u?"active":"",onClick:()=>{O(u),h(u)},children:u},f))})]})}const it=(h,c)=>c==="All"?h:{...{},[c]:h[c]},st=(h,c)=>{if(!c)return h;let p={};return Object.entries(h).forEach(([u,f])=>{const s=c.toLowerCase(),k=f.filter(_=>(_.title.english?_.title.english:_.title.romaji).toLowerCase().includes(s));p={...p,[u]:k}}),p},Ve=(h,c,p)=>{if(!c)return h;let O={};return Object.entries(h).forEach(([f,s])=>{const k=s.filter(p);O={...O,[f]:k}}),O},ct=(h,c)=>Ve(h,c,p=>c.toLowerCase()===p.type.replace("_"," ").toLowerCase()),lt=(h,c)=>Ve(h,c,p=>p.genres.includes(c));function ft(){const[h,c]=G.exports.useState(!0),[p,O]=G.exports.useState(!1),[u,f]=G.exports.useState(null),[s,k]=G.exports.useState(De()),[_,Y]=G.exports.useState(0),[m,M]=G.exports.useState({query:"",status:"All",type:"",genre:""}),J=(v,D,K)=>{f({status:v,index:D,obj:K}),O(!0)},fe=()=>{let v=De();return v=it(v,m.status),v=ct(v,m.type),v=lt(v,m.genre),v=st(v,m.query),v},re=()=>{const v=window.innerWidth;Y(v)};return G.exports.useEffect(()=>{const v=()=>{k(fe)};return window.addEventListener("storage",v),()=>{window.removeEventListener("storage",v)}}),G.exports.useEffect(()=>(re(),window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)),[]),G.exports.useEffect(()=>{k(fe)},[m]),G.exports.useEffect(()=>{document.body.style.overflow=p?"hidden":""},[p]),I(ye,{children:[p&&d(Ue,{objUpdate:u,index:u.index,scrollPos:window.scrollY,handleClose:()=>O(!1)}),I("main",{className:"glb-container split-container text-white",children:[_>960&&I("div",{id:"aside",className:"aside",children:[d(qe,{placeholder:"Filter",search:v=>M({...m,query:v}),liveSearch:!0}),d(ot,{setLists:v=>M({...m,status:v}),setShows:k,showStatus:Object.keys(Ge)}),d(nt,{setFilters:(v,D)=>M({...m,[v]:D})})]}),I("div",{id:"content",className:"content",children:[I("div",{className:"view-mode",children:[d("div",{onClick:()=>c(!0),className:h?"view active":"view",children:d("img",{src:Je,width:"20px",alt:""})}),d("div",{onClick:()=>c(!1),className:h?"view":"view active",children:d("img",{src:Xe,width:"20px",alt:""})})]}),!h&&Object.entries(s).map(([v,D])=>D.length!==0?d("div",{className:"table-container",children:d(et,{status:v,shows:D,handleEdit:(K,H,B)=>{J(K,H,B)}})},v):null),h&&Object.entries(s).map(([v,D])=>D.length!==0?d("div",{className:"table-container",children:d(Qe,{status:v,shows:D,windowWidth:_,handleEdit:(K,H,B)=>{J(K,H,B)}})},v):null)]})]})]})}export{ft as default};
